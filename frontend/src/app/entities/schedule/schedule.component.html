<div>
  <h2>
    <span>Schedules</span>
  </h2>
  <p-schedule *ngIf="cronVisible"
              [weekends]="true"
              weekNumbers="true"
              locale="uk"
              [events]="events" (onViewRender)="loadEvents($event)"></p-schedule>
  <button *ngIf="cronVisible" type="button" pButton (click)="closeCron()" label="Close"></button>
  <p-table *ngIf="!cronVisible" [value]="schedules" [responsive]="true"
           [resizableColumns]="true"
           selectionMode="single" [(selection)]="selectedSchedule"
           dataKey="id"
           [rows]="10"
           [paginator]="true"
           [rowsPerPageOptions]="[10,20,30]"
  >
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 30px">
          <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
        </th>
        <th pSortableColumn="id" style="width: 30px" ><span>ID</span>
          <p-sortIcon field="id"></p-sortIcon>
        </th>
        <th pSortableColumn="active" style="width: 30px" ><span>A</span>
          <p-sortIcon field="active"></p-sortIcon>
        </th>
        <th pSortableColumn="name"><span>Name</span>
          <p-sortIcon field="name"></p-sortIcon>
        </th>
        <th pSortableColumn="person"><span>Person</span>
          <p-sortIcon field="person"></p-sortIcon>
        </th>

        <th pSortableColumn="next"><span>Next</span>
          <p-sortIcon field="next"></p-sortIcon>
        </th>
        <th pSortableColumn="cron"><span>Cron</span>
          <p-sortIcon field="cron"></p-sortIcon>
        </th>
        <th pSortableColumn="cronLog"><span>Cron Log</span>
          <p-sortIcon field="cronLog"></p-sortIcon>
        </th>
       <!-- <th>

        </th>-->
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-schedule>
      <tr [pSelectableRow]="schedule" style="height: 20px">
        <td>
          <p-tableCheckbox [value]="schedule"></p-tableCheckbox>
        </td>
        <td> <a [routerLink]="['/scheduleEdit', schedule.id]">{{schedule.id}}</a> </td>
        <td>
          <input id="active" disabled readonly="true" type="checkbox" [(ngModel)]="schedule.active" >
        </td>
        <td>{{schedule.name}}</td>
        <td>{{schedule.person}}</td>
        <td>{{schedule.next | date:'dd-MMMM-yyyy HH:mm'}}</td>
        <td>{{schedule.cron}}</td>
        <td>{{schedule.cronLog}}</td>
        <!--<td><button pButton (click)="onItemClick(schedule)" type="button" icon="fa-plus"> </button>  </td>-->
      </tr>
    </ng-template>
    <ng-template pTemplate="summary" let-rowData>
      <div style="text-align:left">
       <!-- <button type="button" pButton icon="fa-plus" (click)="showDialogToAdd()" label="Add in Dialog"></button>-->
        <button type="button" pButton icon="fa-plus" (click)="showDialogToAdd2()" label="Add"></button>
        <button type="button" pButton icon="fa-calendar" (click)="showCron()" label="Show Cron"></button>
      </div>
    </ng-template>

  </p-table>


  <notifications></notifications>
</div>
